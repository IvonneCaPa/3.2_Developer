<div class="container mx-auto px-4 py-8">
    <a href="<?= $this->baseUrl() ?>/tasks" class="font bold hover:text-yellow-800 hover:underline hover:decoration-yellow-800 decoration-2 mb-4">⬅️ Back to tasks</a>
    
    <?php if ($this->task): ?>
    <div class="bg-[rgba(255,255,255,0.5)] p-4 shadow-md rounded-lg p-6">
        <h1 class="text-2xl font-bold mb-6">Edit Task: <?= $this->task->title ?></h1>
        
        <form action="<?= $this->baseUrl() ?>/tasks/edit/id/<?= $this->task->id ?>" method="post" class="space-y-6">
            <div>
                <label for="title" class="block text-sm font-medium text-gray-700 mb-1">Title</label>
                <input type="text" id="title" name="title" value="<?= $this->task->title ?>" required 
                    class="bg-[rgba(255,255,255,0.5)] p-4 w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500">
            </div>
            
            <div>
                <label for="description" class="block text-sm font-medium text-gray-700 mb-1">Description</label>
                <textarea id="description" name="description" rows="4" 
                    class="bg-[rgba(255,255,255,0.5)] p-4 w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"><?= $this->task->description ?></textarea>
            </div>
            
            <div>
                <label for="user" class="block text-sm font-medium text-gray-700 mb-1">User</label>
                <input type="text" id="user" name="user" value="<?= $this->task->user ?>" required 
                    class="bg-[rgba(255,255,255,0.5)] p-4 w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500">
            </div>
            
            <div>
                <label for="status" class="block text-sm font-medium text-gray-700 mb-1">Status</label>
                <select id="status" name="status" 
                    class="bg-[rgba(255,255,255,0.5)] p-4 w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500">
                    <option value="pending" <?= $this->task->status == 'pending' ? 'selected' : '' ?>>Pending</option>
                    <option value="in_progress" <?= $this->task->status == 'in_progress' ? 'selected' : '' ?>>In Progress</option>
                    <option value="done" <?= $this->task->status == 'done' ? 'selected' : '' ?>>Done</option>
                </select>
            </div>
            
            <div class="pt-4 flex space-x-4">
                <button type="submit" 
                    class="inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-green-800 hover:bg-green-500 hover:text-green-900 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500">
                    Update Task
                </button>
                <a href="<?= $this->baseUrl() ?>/tasks/view/id/<?= $this->task->id ?>" 
                    class="inline-flex justify-center py-2 px-4 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-green-900 hover:text-white focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500">
                    Cancel
                </a>
            </div>
        </form>
    </div>
    <?php else: ?>
    <div class="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded">
        Task not found
    </div>
    <?php endif; ?>
</div>